<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Shopping Assistant (Mobile)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.164.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/"
            }
        }
    </script>
<div id="phone-wrapper">
    <div id="phone-notch"></div>
	<div id="toast-notification-container"></div>
    <div id="initial-search-overlay">
        <div class="search-content">
            <h1>Find Your Vibe</h1>
            <div id="vibe-search-container">
                <input type="text" id="vibe-search-input" placeholder="e.g., 'summer beach party'">
                <div class="profile-dropdown-container">
                    <div id="profile-dropdown" class="profile-dropdown">
                        <div class="dropdown-selected">
                            <span class="selected-text">
                                <span class="memoji">üôã</span>
                            </span>
                            <span class="dropdown-arrow">‚ñº</span>
                        </div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-profile="personal">
                                <span class="memoji">üôã</span>
                                <span>Personal</span>
                            </div>
                            <div class="dropdown-option" data-profile="child">
                                <span class="memoji">üßí</span>
                                <span>Child</span>
                            </div>
                            <div class="dropdown-option" data-profile="adult">
                                <span class="memoji">üßë</span>
                                <span>Adult</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="search-actions">
                <button id="search-vibe-btn">Search Vibe</button>
                <button id="normal-shopping-btn">Normal Shopping</button>
            </div>
        </div>
        
    </div>

    <div id="loading-overlay">
        <h2>eBay 3D Try On</h2>
        <p>Loading your virtual fitting room...</p>
    </div>

    <div id="app-container">
        <div id="main-view">
            <div id="animation-icon-controls">
                <button id="play-wave-animation" class="animation-icon-btn">üëã</button>
                <button id="play-pose-animation" class="animation-icon-btn">üßç</button>
                <button id="play-unpose-animation" class="animation-icon-btn">üö∂</button>
            </div>
            
            <div id="customization-container-tank" class="customization-panel">
                 <div class="color-swatches">
                     <div class="swatch" data-light-color="reset" title="Reset to Default"></div>
                     <div class="swatch" data-light-color="#d9534f" style="background-color: #d9534f;" title="Red"></div>
                     <div class="swatch" data-light-color="#428bca" style="background-color: #428bca;" title="Blue"></div>
                     <div class="swatch" data-light-color="#333333" style="background-color: #000000;" title="Black"></div>
                     <div class="swatch" data-light-color="#e895b2" style="background-color: #e895b2;" title="Pink"></div>
                 </div>
            </div>
            <div id="customization-container" class="customization-panel">
                <div class="color-swatches">
                    <div class="swatch" data-light-color="reset" title="Reset to Default"></div>
                    <div class="swatch" data-light-color="#d9534f" style="background-color: #d9534f;"></div>
                    <div class="swatch" data-light-color="#5cb85c" style="background-color: #5cb85c;"></div>
                    <div class="swatch" data-light-color="#428bca" style="background-color: #428bca;"></div>
                    <div class="swatch" data-light-color="#f0ad4e" style="background-color: #f0ad4e;"></div>
                    <div id="apply-checkered-pattern" class="swatch" title="Checkered"></div>
                </div>
            </div>
            
            <button id="add-outfit-btn">Add Outfit to Bag</button>
        </div>

        <div id="ui-panel-container">
            <div id="item-drawer">
                <div id="item-tabs-wrapper">
                    <div id="item-tabs">
                        <button class="item-tab active" data-category="tops">Tops</button>
                        <button class="item-tab" data-category="pants">Pants</button>
                        <button class="item-tab" data-category="shoes">Shoes</button>
						<button class="item-tab" data-category="recs">Recs</button> 
                    </div>
                </div>
                <div id="tops-carousel-container" class="carousel-container active">
                    <div class="carousel-content"></div>
                </div>
                <div id="pants-carousel-container" class="carousel-container">
                    <div class="carousel-content"></div>
                </div>
                <div id="shoes-carousel-container" class="carousel-container">
                    <div class="carousel-content"></div>
                </div>
				<div id="recs-carousel-container" class="carousel-container">
					<div class="carousel-content"></div>
				</div>
            </div>

            <div id="chat-panel">
                <div id="chat-header">
                    <h1>Shopping Assistant</h1>
                    <button id="close-chat-btn">&times;</button>
                </div>
                <div id="chat-log">
                    <div class="chat-message bot-message">
                        Hello! What are you looking for today?
                    </div>
                </div>
                <div id="input-container">
                    <input type="text" id="chat-input" placeholder="e.g., 'show me a scarf'">
                </div>
            </div>
        </div>
        
        <nav id="bottom-nav">
            <button class="nav-btn active" id="nav-items-btn">
                <svg fill="currentColor" viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM4 6h5v12H4V6zm16 12h-9V6h9v12z"></path></svg>
                <span>Shop</span>
            </button>
            <button class="nav-btn" id="nav-chat-btn">
                <svg fill="currentColor" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>
                <span>Chat</span>
            </button>
            <button class="nav-btn" id="nav-bag-btn">
                 <svg fill="currentColor" viewBox="0 0 24 24"><path d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"></path></svg>
                <span>Bag</span>
                <span id="bag-count"></span>
            </button>
        </nav>

        <div id="checkout-overlay">
            <div id="checkout-container">
                <div id="checkout-header">
                    <h2>Review Your Bag</h2>
                    <button id="close-checkout-btn">&times;</button>
                </div>
                <div id="checkout-main">
                    <div id="checkout-items-wrapper">
                        <div id="checkout-items-container"></div>
                    </div>
                    <div id="checkout-sidebar">
                        <div id="order-summary-section" class="checkout-section">
                            <h3>Order Summary</h3>
                            <div id="order-summary-details">
                                <div><span>Subtotal</span><span id="summary-subtotal">$0.00</span></div>
                                <div><span>Taxes (10%)</span><span id="summary-taxes">$0.00</span></div>
                                <div class="total"><span>Total</span><span id="summary-total">$0.00</span></div>
                            </div>
                        </div>
                        <div id="shipping-form" class="checkout-section">
                            <h3>Shipping Address</h3>
                            <div class="form-group">
                                <label for="full-name">Full Name</label>
                                <input type="text" id="full-name" name="full-name" required>
                            </div>
                            <div class="form-group">
                                <label for="address">Street Address</label>
                                <input type="text" id="address" name="address" required>
                            </div>
                        </div>
                        <div id="payment-form" class="checkout-section">
                            <h3>Payment Details</h3>
                            <div class="form-group">
                                <label for="card-number">Card Number</label>
                                <input type="text" id="card-number" name="card-number" required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="expiry-date">Expiry</label>
                                    <input type="text" id="expiry-date" name="expiry-date" placeholder="MM/YY" required>
                                </div>
                                <div class="form-group">
                                    <label for="cvv">CVV</label>
                                    <input type="text" id="cvv" name="cvv" required>
                                </div>
                            </div>
                        </div>
                        <button id="place-order-btn">Place Your Order</button>
                    </div>
                </div>
                 <div id="order-success-message">
                     <h2>Thank You!</h2>
                     <p>Your order has been placed successfully.</p>
                 </div>
            </div>
        </div>
    </div>
    <div id="webview-overlay" style="display: none;">
        <div id="webview-header">
            <button id="close-webview-btn">&larr; Back</button>
            <span id="webview-title">Product Details</span>
        </div>
        <div id="webview-content">
            <iframe id="webview-iframe" src="" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-forms"></iframe>
        </div>
    </div>
</div>


<script type="module" src="script.js"></script>

</body>
</html>